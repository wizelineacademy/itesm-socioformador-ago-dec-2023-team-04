// This is your Prisma schema file,
// learn more about it in the docs: https://pris.ly/d/prisma-schema

generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
  url      = env("pgsql://sats@localhost:5432/sats")
}

model User {
  id        Int    @id @default(autoincrement())
  givenName String
}

model Tutor {
  id          Int       @id @default(autoincrement())
  Student     Student[]
  givenName   String
  familyName  String
  phoneNumber String
  email       String
}

model Student {
  id            Int    @id @default(autoincrement())
  registration  String
  givenName     String
  familyName    String
  tutor         Tutor  @relation(fields: [tutorId], references: [id])
  tutorId       Int
  biometricData String
}

model Group {
  id          Int      @id @default(autoincrement())
  user        User     @relation(fields: [userId], references: [id])
  userId      Int
  groupStatus Boolean
  name        String!
  color       String!
  description String
  entryHour   DateTime
  exitHour    DateTime
}

model Attendance {
  id                  Int      @id @default(autoincrement())
  studentId           Int
  tutorId             Int
  attendanceDate      DateTime
  attendanceEntryHour DateTime
  attendanceExitHour  DateTime
  group               Group    @relation(fields: [groupId], references: [id])
  groupId             Int
}

model Message {
  id          Int      @id @default(autoincrement())
  studentId   Int
  tutorId     Int
  message     String
  messageHour DateTime
  group       Group    @relation(fields: [groupId], references: [id])
  groupId     Int
}
